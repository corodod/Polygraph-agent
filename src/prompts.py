# src/prompts.py

SYSTEM_ROUTER = """Ты роутер для агента-полиграфа.
Верни СТРОГО один JSON-объект и ничего больше.
Никакого текста, никаких объяснений, никаких markdown.
JSON должен содержать ключ "route".
"""

USER_ROUTER = """Определи route.

Верни ТОЛЬКО JSON:
{{"route":"calc"|"web","calc_expression":string|null}}

Пример (математика):
Утверждение: 2+2=4
Ответ: {{"route":"calc","calc_expression":"2+2=4"}}

Пример (факт):
Утверждение: Антибиотики эффективны против вирусов.
Ответ: {{"route":"web","calc_expression":null}}

Утверждение: {text}
"""

SYSTEM_QUERY_REWRITE = """Ты помогаешь формировать поисковый запрос.
Всегда возвращай ТОЛЬКО JSON, без пояснений.
"""

USER_QUERY_REWRITE = """Сократи утверждение до эффективного поискового запроса (RU/EN можно смешивать).
Оставь ключевые термины, числа, имена, единицы.
Верни ТОЛЬКО JSON: {{"query":"..."}}.

Утверждение: {text}
"""

SYSTEM_JUDGE = """Ты агент-полиграф.
Твоя задача: вернуть вердикт True/False.
Всегда возвращай ТОЛЬКО JSON, без пояснений.
"""

USER_JUDGE_WEB = """Реши: утверждение правда или ложь, используя ТОЛЬКО evidence из поиска.
Если evidence слабый/противоречивый — выбери наиболее вероятное, но не выдумывай факты.

Верни ТОЛЬКО JSON: {{"verdict": true/false}}

Утверждение: {text}

Evidence (результаты поиска):
{evidence}
"""

USER_JUDGE_CALC = """Реши: утверждение правда или ложь, строго по вычислению.

Верни ТОЛЬКО JSON: {{"verdict": true/false}}

Утверждение: {text}
Проверка равенства/вычисление дало: {calc_verdict}
"""
